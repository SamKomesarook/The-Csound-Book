<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive 4">		<title>cSounds.com - Mastering Csound</title>		<script language="JavaScript"><!--function newImage(arg) {	if (document.images) {		rslt = new Image();		rslt.src = arg;		return rslt;	}}function changeImages() {	if (document.images && (preloadFlag == true)) {		for (var i=0; i<changeImages.arguments.length; i+=2) {			document[changeImages.arguments[i]].src = changeImages.arguments[i+1];		}	}}var preloadFlag = false;function preloadImages() {	if (document.images) {		mastering01a_05_over = newImage("images/mastering01a_05-over.gif");		preloadFlag = true;	}}// -->		</script>	</head>	<body topmargin="0" leftmargin="0" marginwidth="0" marginheight="0" bgcolor="white" text="#333333" link="#333366" vlink="#333366" alink="#999999" onload="preloadImages();">		<font face="Geneva,Verdana,Helvetica,Arial" size="2">		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td colspan="2"><img src="figures/mastering01a_01.gif" width="202" height="61"></td>				<td rowspan="5"><img src="figures/mastering01a_02.gif" width="65" height="111"></td>				<td rowspan="2"><img src="figures/mastering01a_03.gif" width="333" height="67"></td>				<td><img src="figures/spacer.gif" width="1" height="61"></td>			</tr>			<tr>				<td rowspan="3"><img src="figures/mastering01a_04.gif" width="98" height="32"></td>				<td rowspan="2"><a href="http://www.csounds.com/mastering/" onmouseover="window.status='cSounds.com - Mastering Csound'; changeImages('mastering01a_05', 'images/mastering01a_05-over.gif'); return true;" onmouseout="window.status=' '; changeImages('mastering01a_05', 'images/mastering01a_05.gif'); return true;"><img name="mastering01a_05" src="figures/mastering01a_05.gif" width="104" height="21" border="0"></a></td>				<td><img src="figures/spacer.gif" width="1" height="6"></td>			</tr>			<tr>				<td rowspan="3"><img src="figures/mastering01a_06.gif" width="333" height="44"></td>				<td><img src="figures/spacer.gif" width="1" height="15"></td>			</tr>			<tr>				<td><img src="figures/mastering01a_07.gif" width="104" height="11"></td>				<td><img src="figures/spacer.gif" width="1" height="11"></td>			</tr>			<tr>				<td colspan="2"><img src="figures/mastering01a_08.gif" width="202" height="18"></td>				<td><img src="figures/spacer.gif" width="1" height="18"></td>			</tr>		</table>		<br>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top" width="400"><font face="Geneva,Verdana,Helvetica,Arial" size="2"><b>The 80's - Chaos</b><br>					<hr size="1" noshade>					</font>					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">The wonderful thing about Csound is that it presents synthesis from a variety of perspectives and supports a wide range of learning styles - letting you see and work with an instrument from the &quot;opcode level&quot; to the &quot;source-code level.&quot; For example, imagine that after experimenting with Hans Mikelson's new <i>lorenz</i> opcode and getting some great sounds from tweaking the parameters in real-time, you dig a little further. What does the Lorenz attractor look like and what sound patterns will it generate? Figure 17a &amp; b show two views of the Lorenz attractor.</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font></td>				<td width="24">&nbsp;</td>				<td width="152" valign="top"><font face="Geneva,Verdana,Helvetica,Arial" size="1">					<table border="0" width="100%" cellpadding="1" cellspacing="0">						<tr>							<td bgcolor="#ff3300">								<center>									<font face="Geneva,Verdana,Helvetica,Arial" size="1" color="white"><b>Navi</b></font></center>								<p>								<table width="100%" border="0" cellpadding="3" cellspacing="0">									<tr>										<td bgcolor="white" valign="top" align="left">											<center>												<a href="index.html" onmouseover="window.status='Mastering Csound: index';return true" onmouseout="window.status=' ';return true"><font face="Geneva,Verdana,Helvetica,Arial" size="1">[index]</font></a><font face="Geneva,Verdana,Helvetica,Arial" size="1"> <a href="em_09.html" onmouseover="window.status='The 70&acute;s - Analog Modular Synthesizers';return true" onmouseout="window.status=' ';return true">[prev]</a> <a href="em_11.html" onmouseover="window.status='The 90&acute;s - Waveguides';return true" onmouseout="window.status=' ';return true">[next]</a></font></center>										</td>									</tr>								</table>							</td>						</tr>					</table>					<br>					<table border="0" width="100%" cellpadding="2" cellspacing="0">						<tr>							<td bgcolor="#cccccc">								<center>									<font face="Geneva,Verdana,Helvetica,Arial" size="1"><b>cSounds.com</b></font></center>								<p>								<table width="100%" border="0" cellpadding="3" cellspacing="0">									<tr>										<td bgcolor="white" valign="top" align="left"><font color="#999999" face="Geneva,Verdana,Helvetica,Arial" size="1">[+]</font><font face="Geneva,Verdana,Helvetica,Arial" size="1"> <a href="http://www.csounds.com/" onmouseover="window.status='cSounds.com - Home';return true" onmouseout="window.status=' ';return true">Home</a><br>											</font><font color="#999999" face="Geneva,Verdana,Helvetica,Arial" size="1">[+]</font><font face="Geneva,Verdana,Helvetica,Arial" size="1"> <a href="http://www.csounds.com/tutorials/" onmouseover="window.status='cSounds.com - Mastering Csound';return true" onmouseout="window.status=' ';return true">Tutorials</a><br>											</font></td>									</tr>								</table>							</td>						</tr>					</table>					</font></td>			</tr>		</table>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top"><font face="Geneva,Verdana,Helvetica,Arial" size="1">					<table border="0" width="100%" cellpadding="2" cellspacing="0">						<tr>							<td bgcolor="#cccccc"><font face="Geneva,Verdana,Helvetica,Arial" size="1" color="#333333"><b>Figure 17a: The Lorenz Attractor.</b></font>								<table width="100%" border="0" cellpadding="0" cellspacing="0">									<tr>										<td bgcolor="white" valign="top" align="left"><img src="figures/csfig17a.jpg"><br>										</td>									</tr>								</table>								<font face="Geneva,Verdana,Helvetica,Arial" size="1" color="#333333"><b>Figure 17b: The Lorenz Attractor.</b></font>								<table width="100%" border="0" cellpadding="0" cellspacing="0">									<tr>										<td bgcolor="white" valign="top" align="left"><img src="figures/csfig17b.jpg"><br>										</td>									</tr>								</table>							</td>						</tr>					</table>					</font></td>			</tr>		</table>		<br>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top" width="400">					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">The <i>lorenz</i> opcode is an implementation of the Lorenz system of equations - one of the milestones in the development of chaos theory. The Lorenz system is a chaotic-dynamic system originally used to simulate the motion of a particle in convection currents and simplified weather systems. Lorenz discovered that small differences in initial conditions rapidly lead to diverging values. Lorenz's equations are approximated as:</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font>					<pre><font face="Courier New,Courier" size="2">  x = x + h*(s*(y - x))</font><font face="Courier New,Courier" size="2">  y = y + h*(-x*z + r*x - y)</font><font face="Courier New,Courier" size="2">  z = z + h*(x*y - b*z)</font></pre>					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">In figure 18 we see a version of the Lorenz instrument built from Csound primitives. Actually, this Csound instrument is being used as a &quot;calculator&quot; to solve the equations and return the result. The variable <i>axnew</i> is assigned to <i>ax</i> after it is computed and this new value is used again on the right hand side of the equation, two lines above, to compute the next block of samples. Remember that in Csound, an instrument is a programming loop in which <i>i</i>-values are computed once, <i>k</i>-values are computed at the control-rate (defaulting to 4100 times a second), and <i>a</i>-values are computed at the audio-rate (typically 44,100 times a second). A <i>k</i>-rate block of samples is computed and written to disk in each pass through the instrument.</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font></td>			</tr>		</table>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top"><font face="Geneva,Verdana,Helvetica,Arial" size="1">					<table border="0" width="100%" cellpadding="2" cellspacing="0">						<tr>							<td bgcolor="#cccccc"><font face="Geneva,Verdana,Helvetica,Arial" size="1" color="#333333"><b>Figure 18: A Csound Orchestra to compute the Lorenz attractor.</b></font>								<table width="100%" border="0" cellpadding="0" cellspacing="0">									<tr>										<td bgcolor="white" valign="top" align="left"><img src="figures/csfig18.gif"><br>										</td>									</tr>								</table>							</td>						</tr>					</table>					</font></td>			</tr>		</table>		<br>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top" width="400">					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">Once we understand this instrument, we might decide to look at the source code itself and compare the primitive opcode version to the actual C code (see figure 19). In Csound, you can always read and study the source code. In fact, you can compile in your own opcodes and expand the language that way as well.</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font></td>			</tr>		</table>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top"><font face="Geneva,Verdana,Helvetica,Arial" size="1">					<table border="0" width="100%" cellpadding="2" cellspacing="0">						<tr>							<td bgcolor="#cccccc"><font face="Geneva,Verdana,Helvetica,Arial" size="1" color="#333333"><b>Figure 19: Csound C Source-Code for the Lorenz opcode.</b></font>								<table width="100%" border="0" cellpadding="0" cellspacing="0">									<tr>										<td bgcolor="white" valign="top" align="left"><img src="figures/csfig19.gif"><br>										</td>									</tr>								</table>							</td>						</tr>					</table>					</font></td>			</tr>		</table>		<br>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top" width="400">					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">Although this well commented code is very readable, and I am happy to have access to it, I am also happy to know that learning Csound does not require that you learn C or that you do any C programming. So, even before there was a <i>lorenz</i> opcode in Csound, you could use Csound to study and explore the sound or the Lorenz attractor. But once it was agreed that it had a number of musical uses and produced some unique and interesting sounds, it made sense to add it to the language itself in the form of an opcode whose syntax is:</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font></td>			</tr>		</table>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top" width="400">					<pre><font face="Courier New,Courier" size="2">ax, ay, az  <b>lorenz</b>  ks, kr, kb, kh, ix, iy, iz, iskip</font></pre>				</td>			</tr>		</table>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top" width="400">					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">From the manual, we might compare the opcode-based instrument in figure 20 to the version built from Csound's basic opcodes shown in figure 18.</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font></td>			</tr>		</table>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top"><font face="Geneva,Verdana,Helvetica,Arial" size="1">					<table border="0" width="100%" cellpadding="2" cellspacing="0">						<tr>							<td bgcolor="#cccccc"><font face="Geneva,Verdana,Helvetica,Arial" size="1" color="#333333"><b>Figure 20: Chaotic orchestra file featuring the <i>lorenz</i> opcode.</b></font>								<table width="100%" border="0" cellpadding="0" cellspacing="0">									<tr>										<td bgcolor="white" valign="top" align="left"><img src="figures/csfig20.gif"><br>										</td>									</tr>								</table>							</td>						</tr>					</table>					</font></td>			</tr>		</table>		<br>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top" width="400">					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">Although this instrument produces some interesting &quot;noise,&quot; it is pretty chaotic. In fact, one of the most important properties of chaotic systems is its &quot;sensitivity to initial conditions.&quot; What would make our exploration of this new wavespace much more efficient would be to adapt the instrument so that we could use MIDI controllers to modify the parameters in real-time.</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font>					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">For this purpose we'll use Csound's new <i>.csd</i> unified file format. This structured data file uses markup language &quot;tags&quot; similar to HTML to delimit the various elements - the command-line options (CsOptions), the orchestra file (CsInstruments), and the score file (CsScore). The unified <i>.csd</i> file format is especially useful when you wish to embed the orchestra and score files into a webpage and access them both via a single click. Also, it is often convenient to associate the specific command-line settings with the orchestra and score file prior to rendering and this makes that possible as well. In figure 21 we see the MIDI<i>.csd</i> orchestra of a lorenz-FM instrument.</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font></td>			</tr>		</table>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top"><font face="Geneva,Verdana,Helvetica,Arial" size="1">					<table border="0" width="100%" cellpadding="2" cellspacing="0">						<tr>							<td bgcolor="#cccccc"><font face="Geneva,Verdana,Helvetica,Arial" size="1" color="#333333"><b>Figure 21: A MIDI-based Lorenz-FM instrument using the <i>.csd</i> unified file format.</b></font>								<table width="100%" border="0" cellpadding="0" cellspacing="0">									<tr>										<td bgcolor="white" valign="top" align="left"><img src="figures/csfig21.gif"><br>										</td>									</tr>								</table>							</td>						</tr>					</table>					</font></td>			</tr>		</table>		<br>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top" width="400">					<div align="justify">						<div class="text">							<font face="Geneva,Verdana,Helvetica,Arial" size="2">In our MIDI version, we use the output of the <i>lorenz</i> opcode to chaotically modulate the frequency (icps+kx) and modulation index (kmod*ky) of Csound's FM <i>foscil</i> opcode. The controls are extremely sensitive, but a new class of timbres does pop out every now and then. Listen for the buzzing of the trombone player's lips against the mouthpiece!</font></div>					</div>					<p><font face="Geneva,Verdana,Helvetica,Arial" size="2"><br>					</font></td>			</tr>		</table>		<table border="0" cellpadding="0" cellspacing="0">			<tr>				<td width="24">&nbsp;</td>				<td valign="top"><a href="em_11.html" onmouseover="window.status='The 90&acute;s - Waveguides';return true" onmouseout="window.status=' ';return true"><font face="Geneva,Verdana,Helvetica,Arial" size="1">[next] The 90's - Waveguides</font></a>					<dl>						<dt>						<div class="link">							<font color="#999999" face="Geneva,Verdana,Helvetica,Arial" size="1">[+]</font><font face="Geneva,Verdana,Helvetica,Arial" size="1"> Please let us know any questions, comments or suggestions:<br>							</font></div>						<dd>						<div class="link">							<a href="mailto:support@csounds.com?subject=Mastering Csound" onmouseover="window.status='cSounds.com -  support';return true" onmouseout="window.status=' ';return true"><font face="Geneva,Verdana,Helvetica,Arial" size="1">support@csounds.com</font></a>						</dl>					</div>				</td>			</tr>		</table>		</font>	</body></html>