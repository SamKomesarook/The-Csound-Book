<html>	<head>		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">		<meta name="author" content="Hans Mikelson">		<meta name="summary" content="On-line magazine with articles on Csound for synthesis, signal processing, real-time performance, composing and programming.">		<meta name="keywords" content="csound, Csound, computer music, software synthesizer, software synth, digital signal processing, DSP, dsp, algorithmic composition, fractal music, electro-acoustic, electronica, signal processing, synthesis, sound design, audio programming">		<meta name="KeyWords" content="csound, Csound, computer music, software synthesizer, software synth, digital signal processing, DSP, dsp, algorithmic composition, fractal music, electro-acoustic, electronica, signal processing, synthesis, sound design, audio programming">		<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">		<title>Csound Magazine</title>	</head>	<body bgcolor="#000000" link="#FF0000" vlink="#B00000" alink="#F38181">		<table border="0" cellspacing="0">			<tr>				<td colspan="3" bgcolor="#000000"><a href="../index.html"><img src="../figures/logosm.gif" border="0" width="295" height="28"></a></td>				<td bgcolor="#000000">&nbsp;</td>			</tr>			<tr>				<td bgcolor="#000000">&nbsp;</td>				<td width="21" background="../bg1.jpg" height="22">&nbsp;</td>				<td background="../bg2.jpg">&nbsp;</td>				<td width="21" background="../bg6.jpg" height="22">&nbsp;</td>			</tr>			<tr>				<td valign="top" bgcolor="#000000"><font color="#FFFF00"><strong>Columns</strong> </font>					<p><a href="../news/index.html">News</a></p>					<p><a href="index.html">Beginners</a></p>					<p><a href="../internals/index.html">Internals</a></p>					<p><a href="../processing/index.html">Processing</a></p>					<p><font color="#FFFF00"><strong>Departments</strong></font></p>					<p><a href="../links.html">Links</a></p>					<p><a href="../editorial.html">Editorial</a></p>					<p><a href="../contribute.html">Contribute</a></p>					<p><a href="../past.html">Back Issues</a></p>					<p><a href="http://www.csounds.com/"><img src="../figures/csounds1.gif" border="0" width="88" height="31"></a></p>				</td>				<td background="../bg5.jpg">&nbsp;</td>				<td valign="top" bgcolor="#FFFFFF">					<h2>Noise, Beautiful Noise</h2>					<p><i>Hans Mikelson</i></p>					<p><a href="mailto:hans@csounds.com">hans@csounds.com</a></p>					<p><a href="noise.orc">noise.orc</a> <a href="noise.sco">noise.sco</a></p>					<p><strong>Introduction</strong></p>					<p>Most people spend a great deal of time and effort trying to get rid of noise. Why would you want to create it? Noise is a useful starting point for many types of sound synthesis from simple subtractive synthesis to digital waveguides.</p>					<p>In the study of sound noise takes on some special meanings. Many terms are used to describe different types of noise. White noise, pink noise, brown noise, red noise, black noise and many more. This article will describe some of Csound's common noise generators.</p>					<p><strong>Generating noise</strong></p>					<p>Noise and random numbers are closely related. If you generate a sequence of random numbers and play it back as sound you will hear noise. The most common way of generating noise in Csound is by using the <strong>rand</strong> opcode. The <strong>rand</strong> opcode generates a uniform distribution of random numbers. The term uniform distribution means that any number in the selected range is equally likely to occur. This is also the definition of white noise. The following Csound code can be used to generate white noise.</p>					<pre>asig rand 30000     outs asig, asig</pre>					<p>This will generate random numbers between -30000 and +30000. Any number in this range is equally likely to occur.</p>					<p>Csound's original random number generator was based on 16 bits which resulted in a noticeably repeating cycle. So the noise did not always sound very random. If a non zero number is used for the third parameter then a high quality 31 bit random number is generated with an extremely long repeat cycle. Unfortunately a one sided or unipolar signal is generated in 31 bit mode so that the following code</p>					<pre>asig rand iamp, .5, 1</pre>					<p>would generate random numbers between 0 and <em>iamp</em>. To make the signal bipolar you must multiply by two and subtract <em>iamp</em>.</p>					<pre>asig = asig*2 - iamp</pre>					<p><strong>Sample and hold</strong></p>					<p>The opcodes <strong>randh</strong> and <strong>randi</strong> are closely related to <strong>rand</strong>. The <strong>randh</strong> opcode generates a random number and holds that value for a specified length of time. This type of signal is usually called a sample and hold signal. The <strong>randi</strong> opcode generates a straight line connecting the random numbers instead of jumping between them as in <strong>randh</strong>. The following figure illustrates the difference between <strong>randh</strong> and <strong>randi</strong>:</p>					<pre><img src="shnoise.jpg" width="252" height="398"><strong>Figure 1.</strong>Noise generated by <strong>randh</strong> (top) and <strong>randi</strong> (bottom).</pre>					<p><strong>Pink noise</strong></p>					<p>One complaint about white noise is that it tends to emphasize high frequencies. There is the same energy between 100 and 200 Hz as there is between 1000 and 1100 Hz.</p>					<p>A type of noise that sounds a little nicer is called pink noise. Pink noise has equal energy per octave so that there is the same energy between 100 and 200 Hz as there is between 1000 and 2000 Hz. One of the easiest ways to approximate pink noise is to add together a series of sample and hold signals whose frequencies are related by factors of two.</p>					<pre>asig1  rand  iamp,         .5, 1 ; High quality random numberasig2  randh iamp, sr/2,   .5, 1 ; Hold random number for 2 samplesasig3  randh iamp, sr/4,   .5, 1 ; Hold for 4   samplesasig4  randh iamp, sr/8,   .5, 1 ; Hold for 8   samplesasig5  randh iamp, sr/16,  .5, 1 ; Hold for 16  samplesasig6  randh iamp, sr/32,  .5, 1 ; Hold for 32  samplesasig7  randh iamp, sr/64,  .5, 1 ; Hold for 64  samplesasig8  randh iamp, sr/128, .5, 1 ; Hold for 128 samplesasig = (asig1+asig2+asig3+asig4+asig5+asig6+asig7+asig8-4*iamp)/3</pre>					<p>In this case I add eight signals together. The first signal is a high quality white noise signal. The second signal, <em>asig2</em>, is generated by <strong>randh</strong>. In this case it generates a new random number every other sample. The third signal generates a new random number every four samples, the fourth every eight samples and so on. Finally all of the signals are added together. A constant factor of four times the amplitude must be subtracted because Csound's 31 bit random number generator only generates positive numbers.</p>					<p>The difference between white noise and pink noise can be observed by sweeping the signals with a band pass filter.</p>					<pre>aflt butbp asig, kfqc, kfqc*.1</pre>					<p>As the filter center frequency increases the amplitude of the filtered white noise signal increases.</p>					<pre><img src="white.jpg" width="131" height="181"><strong>Figure 2.</strong>Filtered white noise as the center frequencyis swept from 40 hz on the left to 10000 hz on the right.</pre>					<p>Sweeping pink noise with a band pass filter yields a much flatter response.</p>					<pre><img src="pink.jpg" width="131" height="187"><strong>Figure 3.</strong>Filtered pink noise as the center frequencyis swept from 40 hz on the left to 10000 hz on the right.</pre>					<p>The high frequencies are still somewhat stronger than the very low frequencies. Adding more <strong>randh</strong> signals may help make the response flatter although I think this instrument already sounds quite good.</p>					<p><strong>Cauchy Noise</strong></p>					<p>Csound also includes a variety of nonuniform noise generators. The second part of the score generates noise using the <strong>cauchy</strong> opcode.</p>					<pre>asig cauchy ialpha</pre>					<p>The parameter ialpha controls the distribution of the sound. The smaller alpha is the more tightly the distribution is clustered around zero.</p>					<pre><img src="cauchy.jpg" width="289" height="193"><strong>Figure 4.</strong>Cauchy noise: alpha=1 (left) alpha=.1 (right)</pre>					<p>Cauchy noise is useful for generating static like sound effects.</p>					<p><strong>Conclusion</strong></p>					<p>I have presented a brief description of some of Csound's many noise generating opcodes. Noise is usually not used by itself but instead is filtered with a band pass or resonant filter. Noise can be used as a modulation source to modify pitch or filter cut-off frequencies. It can be used to add a natural quality to otherwise sterile digital sounds.</p>					<p><strong>Links</strong></p>					<p>DSP Generation of Pink Noise by Robin Whittle <a href="http://www.firstpr.com.au/dsp/pink-noise/">http://www.firstpr.com.au/dsp/pink-noise/</a></p>					<p>Bibliography on 1/f Noise <a href="http://linkage.rockefeller.edu/wli/1fnoise/">http://linkage.rockefeller.edu/wli/1fnoise/</a></p>					<p>Computer Generated Random Numbers <a href="http://world.std.com/~franl/crypto/random-numbers.html">http://world.std.com/~franl/crypto/random-numbers.html</a></p>				</td>				<td background="../bg8.jpg">&nbsp;</td>			</tr>			<tr>				<td bgcolor="#000000">&nbsp;</td>				<td width="21" background="../bg4.jpg" height="22">&nbsp;</td>				<td background="../bg3.jpg">&nbsp;</td>				<td width="21" background="../bg7.jpg" height="22">&nbsp;</td>			</tr>		</table>	</body></html>