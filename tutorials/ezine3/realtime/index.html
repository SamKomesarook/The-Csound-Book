<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive 4">		<title>index</title>		<meta name="Template" content="C:\PROGRAM FILES\MICROSOFT OFFICE\OFFICE\html.dot">	</head>	<body bgcolor="white" text="black" link="teal" vlink="teal" alink="#9f0050">		<table border="0" cellspacing="0">			<tr>				<td valign="top" colspan="3"><a href="../index.html"><img src="../logosm.gif" alt="Csound Magazine Summer 1999" border="0" width="296" height="27"></a></td>			</tr>			<tr>				<td valign="top" colspan="2"><font size="2"><strong>Columns</strong></font>					<p><a href="../beginners/index.html"><font size="2">Beginners</font></a></p>					<p><a href="../synthesis/index.html"><font size="2">Synthesis</font></a></p>					<p><a href="../processing/index.html"><font size="2">Processing</font></a></p>					<p><font size="2">Real-Time</font></p>					<p><font size="2"><strong>Features</strong></font></p>					<p><a href="../axcsound.html"><font size="2">AXCsound</font></a></p>					<p><a href="../composing/index.html"><font size="2">Composing</font></a></p>					<p><a href="../ecocmask.html"><font size="2">Ecological Modeling</font></a></p>					<p><font size="2"><strong>Departments</strong></font></p>					<p><a href="../links.html"><font size="2">Links</font></a></p>					<p><a href="../editorial.html"><font size="2">Editorial</font></a></td>				<td valign="top">					<h2>Using Midi Sequencers with Csound</h2>					<p><font size="2"><i>Hans Mikelson</i></font></p>					<p><a href="mailto:hljmm@werewolf.net"><font size="2">hljmm@werewolf.net</font></a></p>					<p><a href="fofrt.orc"><font size="2">fofrt.orc</font></a><font size="2"> </font><a href="fofrt.sco"><font size="2">fofrt.sco</font></a> <a href="csm.bat"><font size="2">csm.bat</font></a><font size="2"> </font></p>					<p><font size="2"><b>Problems in real-time</b></font></p>					<p><font size="2">Playing Csound in real-time presents some problems. No matter how much you adjust the buffers, you always seem to get some glitches. It would be nice if you could play your instrument using a midi keyboard and capture the midi data on your sequencer. After editing the midi sequence you could use it to render a high quality audio file with Csound. Unfortunately most device drivers only allow one program to be connected to them at a time. Hubi's loopback device solves this problem by creating virtual midi ports.</font></p>					<p><font size="2"><b>Platform Dependence</b></font></p>					<p><font size="2">This article is probably only useful to people using an MS Windows based computer. I am using a 300 MHz Dell Pentium II computer running Windows 95 with a Soundblaster AWE64 basic sound card. The midi keyboard is an Alesis QS+. The version of Csound used is Gabriel Maldonado's excellent DirectCsound version 3.511.</font></p>					<p><font size="2">The sequencer used is Powertracks Pro 3.5e. I have heard people mention that some more powerful sequencers use too many system resources to allow adequate capture of a Csound midi performance. It may be possible to use some other freeware or shareware midi sequencer as long as it is capable of saving midi files in type 0 format.</font></p>					<p><font size="2">Finally the key to getting real-time Csound working with a midi sequencer is Hubi's loopback device or some similar software.</font></p>					<p><font size="2"><b>Step by Step</b></font></p>					<p><font size="2">The first step is to turn off full-duplex mode on the Soundblaster card. If I do not turn off full-duplex mode the sound produced by Csound and most other software synthesizers is extremely choppy. Many games require full-duplex on so it is best to leave it on when not using software synthesizers. To turn off full duplex mode do the following:</font></p>					<p><font size="2">Start --&gt; Settings --&gt; control pannel --&gt; System --&gt; Device Manager --&gt;Sound Video and Game Controllers --&gt; Creative AWE64 16-bit Audio --&gt; Properties --&gt; Settings --&gt; Uncheck Allow Full-duplex operation. You may have to restart the computer.</font></p>					<p><font size="2">The next step is to get a copy of Hubi's loopback device. Hubi's loopback device is available from the following web site:</font></p>					<p><a href="http://members.telecom.at/~hubwin/midi.html"><font size="2">http://members.telecom.at/~hubwin/midi.html</font></a><font size="2"> </font></p>					<p><font size="2">This essentially creates four virtual midi ports.</font></p>					<p><font size="2">I am using version 2.51. Read the file Midlpbk.txt for installation information. The loopback device must be installed as a device. Here is a quote from the installation notes. </font></p>					<p><font size="2">&quot;Windows 95: Start-&gt;Settings-&gt;ControlPanel-&gt;Hardware Continue-&gt; [No] -&gt;Continue -&gt; [ Audio/Video/Game Controller ] -&gt;Continue -&gt;Diskette -&gt; [ enter the unzipped directory (c:\tmp) ] ... Then you will see a list with &quot;Hubi's Loopback v250&quot;, select this, some ok and restart Windows when asked about it.&quot;</font></p>					<p><font size="2">On my sequencer options I choose my sound card's midi in port for input and LB1 for output. When running DirectCsound I choose the LB1 midi port. Choose an orchestra and score pair suitable for real-time performance. Run Csound with the orc/sco pair. Start recording on the midi sequencer. You should now be able to play the keyboard and hear the sound as well as record the midi data on the sequencer. You can then edit your midi sequence and save it as a type 0 midi file. Finally render the sound using Csound with the midi file for input. The -F flag is used to specify midi file input. Since the sequencer is connected in series with Csound you can also play back your sequence from your sequencer using Csound as output.</font></p>					<p><font size="2"><b>Wrap up</b></font></p>					<p><font size="2">You should now be set up for using Csound with a midi sequencer. This is nice for playing with sounds that are not available on any commercial synthesizer. It may be a good idea to create both a simple and a complex version of the instrument. Use the simple version when recording in real-time and use the complex instrument for the final render. I would like to thank Michel Jullian for suggesting some corrections on my midi setup.</font></td>			</tr>		</table>		<p>&nbsp;	</body></html>