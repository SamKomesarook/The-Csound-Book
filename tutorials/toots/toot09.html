<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive 4">		<title>Toots</title>	</head>	<body bgcolor="white">		<hr size="1">		<font size="5"><b><img height="30" width="290" src="titles/toot9.gif"></b></font>		<hr size="1">		<div align="justify">			<p><a href="instruments/toot09.sco">toot09.orc<br>			</a><a href="instruments/toot09.sco">toot09.sco</a></p>			<p>In the previous example you may have noticed the soundin source being &quot;cut off&quot; at ends of notes, because the reverb was <i>inside</i><b> </b>the instrument itself. It is better to create a companion instrument, a global reverb instrument, to which the source signal can be sent. Let's also make this stereo.</p>			<p>Variables are named cells which store numbers. In Csound, they can be either <i>local</i> or <i>global</i>, are available continuously, and can be updated at one of four rates - setup, i-rate, k-rate, or a-rate.</p>			<p><a href="../../references/manual_html/syntax/kvar.htm"><b>Local variables</b></a> (which begin with the letters p, i, k, or a) are private to a particular instrument. They cannot be read from, or written to, by any other instrument.</p>			<p><a href="../../references/manual_html/syntax/kvar.htm"><b>Global Variables</b></a> are cells which are accessible by all instruments. Three of the same four variable types are supported (i, k, and a), but these letters are preceded by the letter &quot;g&quot; to identify them as &quot;global.&quot; Global variables are used for &quot;broadcasting&quot; general values, for communicating between instruments, and for sending sound from one instrument to another.</p>			<p>The reverb <i>instr 99</i> below receives input from<i> instr 9</i> via the global a-rate variable <i>garvbsig</i>. Since<i> instr 9</i> <i>adds into</i> this global, several copies of<i> instr 9</i> can do this without losing any data. The addition requires <i>garvbsig</i> to be cleared before each k-rate pass through any active instruments. This is accomplished first with an <a href="../../references/manual_html/syntax/assign.htm"><b>init</b></a> statement in the orchestra header, giving the reverb instrument a higher number than any other (instruments are performed in numerical order), and then clearing <i>garvbsig</i> within <i>instr</i> <i>99</i> once its data has been placed into the reverb.</p>			<p><b>			<table border="0" cellpadding="1" cellspacing="0" width="100%">				<tr>					<td><a href="../../references/manual_html/syntax/header.htm"><b>sr</b></a></td>					<td><b>=</b></td>					<td>44100</td>					<td>; toot9.orc</td>				</tr>				<tr>					<td><a href="../../references/manual_html/syntax/header.htm"><b>kr</b></a></td>					<td><b>=</b></td>					<td>4410</td>					<td></td>				</tr>				<tr>					<td><a href="../../references/manual_html/syntax/header.htm"><b>ksmps</b></a></td>					<td><b>=</b></td>					<td>10</td>					<td></td>				</tr>				<tr>					<td><a href="../../references/manual_html/syntax/header.htm"><b>nchnls</b></a></td>					<td><b>=</b></td>					<td>2</td>					<td>; stereo</td>				</tr>				<tr>					<td>garvbsig</td>					<td><a href="../../references/manual_html/syntax/assign.htm"><b>init</b></a></td>					<td>0</td>					<td>; make zero at orch init time</td>				</tr>			</table>			</b></p>		</div>		<p><b>		<table border="0" cellpadding="1" cellspacing="0" width="100%">			<tr>				<td><b>instr</b> 9</td>				<td></td>				<td></td>				<td></td>				<td></td>			</tr>			<tr>				<td></td>				<td>idur</td>				<td><b>=</b></td>				<td>p3</td>				<td></td>			</tr>			<tr>				<td></td>				<td>iamp</td>				<td><b>=</b></td>				<td>p4</td>				<td></td>			</tr>			<tr>				<td></td>				<td>iskiptime</td>				<td><b>=</b></td>				<td>p5</td>				<td></td>			</tr>			<tr>				<td></td>				<td>iattack</td>				<td><b>=</b></td>				<td>p6</td>				<td></td>			</tr>			<tr>				<td></td>				<td>irelease</td>				<td><b>=</b></td>				<td>p7</td>				<td></td>			</tr>			<tr>				<td></td>				<td>ibalance</td>				<td><b>=</b></td>				<td>p8</td>				<td>; panning: 1=left, .5=center, 0=right</td>			</tr>			<tr>				<td></td>				<td>irvbgain</td>				<td><b>=</b></td>				<td>p9</td>				<td></td>			</tr>			<tr>				<td></td>				<td>kamp</td>				<td><a href="../../references/manual_html/sigmod/linen.htm"><b>linen</b></a></td>				<td colspan="2">iamp, iattack, idur, irelease</td>			</tr>			<tr>				<td></td>				<td>asig</td>				<td><a href="../../references/manual_html/sigio/in.htm"><b>soundin</b></a></td>				<td colspan="2">&quot;soundin.aiff&quot;, iskiptime</td>			</tr>			<tr>				<td></td>				<td>arampsig</td>				<td><b>=</b></td>				<td>kamp * asig</td>				<td></td>			</tr>			<tr>				<td></td>				<td><a href="../../references/manual_html/sigio/in.htm"><b>outs</b></a></td>				<td></td>				<td colspan="2">arampsig * ibalance, arampsig * (1 - ibalance)</td>			</tr>			<tr>				<td></td>				<td>garvbsig</td>				<td><b>=</b></td>				<td colspan="2">garvbsig + arampsig * irvbgain</td>			</tr>			<tr>				<td><b>endin</b></td>				<td></td>				<td></td>				<td></td>				<td></td>			</tr>			<tr>				<td><br>				</td>				<td></td>				<td></td>				<td></td>				<td></td>			</tr>			<tr>				<td><b>instr</b> 99</td>				<td colspan="2">; global reverb</td>				<td></td>				<td></td>			</tr>			<tr>				<td></td>				<td>irvbtime</td>				<td><b>=</b></td>				<td>p4</td>				<td></td>			</tr>			<tr>				<td></td>				<td>asig</td>				<td><a href="../../references/manual_html/sigmod/comb.htm"><b>reverb</b></a></td>				<td>garvbsig, irvbtime</td>				<td>; put global signal into reverb</td>			</tr>			<tr>				<td></td>				<td><a href="../../references/manual_html/sigio/in.htm"><b>outs</b></a></td>				<td colspan="2">asig, asig</td>				<td></td>			</tr>			<tr>				<td></td>				<td>garvbsig</td>				<td><b>=</b></td>				<td>0</td>				<td>; then clear it</td>			</tr>			<tr>				<td><b>endin</b></td>				<td></td>				<td></td>				<td></td>				<td></td>			</tr>		</table>		</b></p>		<div align="justify">			<p><br>			In the score we turn the global reverb on at time 0 and keep it on until <i>irvbtime</i> after the last note.</p>			<p><b>			<table border="0" cellpadding="1" cellspacing="0" width="100%">				<tr>					<td>; toot9.sco</td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>				</tr>				<tr>					<td>; ins</td>					<td>strt</td>					<td>dur</td>					<td>rvbtime</td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>				</tr>				<tr>					<td>i99</td>					<td>0</td>					<td>9.85</td>					<td>2.6</td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>				</tr>				<tr>					<td><br>					</td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>				</tr>				<tr>					<td>;ins</td>					<td>strt</td>					<td>dur</td>					<td>amp</td>					<td>skip</td>					<td>atk</td>					<td>rel</td>					<td>balance(0-1)</td>					<td>rvbsend</td>				</tr>				<tr>					<td>i9</td>					<td>0</td>					<td>1</td>					<td>.5</td>					<td>0</td>					<td>.02</td>					<td>.1</td>					<td>1</td>					<td>.2</td>				</tr>				<tr>					<td>i9</td>					<td>2</td>					<td>2</td>					<td>.5</td>					<td>0</td>					<td>.03</td>					<td>.1</td>					<td>0</td>					<td>.3</td>				</tr>				<tr>					<td>i9</td>					<td>3.5</td>					<td>2.25</td>					<td>.5</td>					<td>0</td>					<td>.9</td>					<td>.1</td>					<td>.5</td>					<td>.1</td>				</tr>				<tr>					<td>i9</td>					<td>4.5</td>					<td>2.25</td>					<td>.5</td>					<td>0</td>					<td>1.2</td>					<td>.1</td>					<td>0</td>					<td>.2</td>				</tr>				<tr>					<td>i9</td>					<td>5</td>					<td>2.25</td>					<td>.5</td>					<td>0</td>					<td>.2</td>					<td>.1</td>					<td>1</td>					<td>.3</td>				</tr>				<tr>					<td>e</td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>					<td></td>				</tr>			</table>			</b></p>		</div>		<center>			<p><img src="figures/toot09.gif" width="510" height="318"></p>			<p>Toot 9: Global Stereo Reverb</p>		</center>		<div align="left">			<p><img height="40" width="180" src="figures/button.gif" usemap="#toot_buttonb3354472" border="0"><map name="toot_buttonb3354472"><area href="toot08.html" coords="60,10,60,10,60,30,10,19" shape="polygon"><area href="toot10.html" coords="121,10,121,10,120,30,169,20" shape="polygon"><area href="index.html" coords="60,10,119,29" shape="rect"></map></div>	</body></html>