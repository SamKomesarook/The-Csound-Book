<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive 4">		<title>Csound Magazine</title>		<meta name="author" content="Hans Mikelson">		<meta name="summary" content="On-line magazine with articles on Csound for synthesis, signal processing, real-time performance, composing and programming.">		<meta name="keywords" content="csound, Csound, computer music, software synthesizer, software synth, digital signal processing, DSP, dsp, algorithmic composition, fractal music, electro-acoustic, electronica, signal processing, synthesis, sound design, audio programming">		<meta name="keywords" content="csound, Csound, computer music, software synthesizer, software synth, digital signal processing, DSP, dsp, algorithmic composition, fractal music, electro-acoustic, electronica, signal processing, synthesis, sound design, audio programming">	</head>	<body bgcolor="white" text="black" link="#000040" vlink="#264624" alink="#e9ca18">		<table border="0">			<tr>				<td valign="top" colspan="2"></td>			</tr>			<tr>				<td valign="top">					<h2>Orchestra and Score of the Week</h2>					<p><i>Hans Mikelson</i></p>					<p><a href="mailto:hans@csounds.com">hans@csounds.com</a></p>					<p><strong>Not </strong><strong><em>Another</em></strong><strong> TB Simulation...</strong></p>					<p><a href="teebee.orc">teebee.orc</a> <a href="teebee.sco">teebee.sco</a></p>					<p>Why do I keep trying to simulate the TB? I don't know. But if you haven't gotten sick of the sound of this crazy machine yet here is another simulation.</p>					<p>First I got a sample from:</p>					<p><a href="http://www.teknet.ch/tb-303/">http://www.teknet.ch/tb-303/</a></p>					<p>I used the one found under clones then chose original TB acid-line.&nbsp; I then tried to duplicate this sound. This is a &quot;square&quot; wave and I use the term loosely. One of the first things I noticed was that the filter only wiggled in the positive direction (most of the time).&nbsp; I thought I would try to simulate this by passing the positive impulse through a filter with high resonance and the negative impulse through a filter low resonance.&nbsp; I then noticed a large low frequency oscillation in the waveform.&nbsp; I tried simulating it with a mass spring system but it was more extreme.&nbsp; I then used a cubic for a restoring force and that seemed to make the system behave quite a bit like the original. The top image is from an actual Roland TB-303 and the bottom image is from my orchestra/score:</p>					<p><img src="waveform.jpg" width="400" height="312"></p>					<p><strong>Towards Analog Sounding Filters</strong></p>					<p><a href="anlflt.orc">anlflt.orc</a> <a href="anlflt.sco">anlflt.sco</a></p>					<p>What is it about analog filters that makes them sound so great? I'm not sure but one way I have been able to make a filter sound less digital is by adding some overtones to it. The problem then was that I was not able to sweep it as high as I wanted. I use an <strong>if</strong> statement to branch around an overtone if it gets too high in frequency. The tables control the frequency, amplitude and band width of the overtones. Cranking the volume on these will result in some wild sounding filters. When using <strong>butterbp</strong> I found that a bandwidth based on the frequency raised to a power seemed to create a constant amplitude when swept across white noise. I also fade out the overtones as Q goes to zero using <strong>iq3</strong>. Otherwise they start dominating everything.</p>					<p><strong>Band Limited Oscillator Synchronization</strong></p>					<p><a href="oscsync.orc">oscsync.orc</a> <a href="oscsync.sco">oscsync.sco</a></p>					<p>Here is my attempt to create a bandlimited synchronized oscillator with a triangular waveform. The shape looks right and the sound is very much like my Matrix 6R's oscillator sync. For some reason I had to go to sr/4 for the impulse. Basically I generate two bandlimited impulse trains. The first one is integrated to form a sawtooth wave. The second impulse is subtracted from the sawtooth wave but the second impulse is first scaled so that it is always the magnitude of the sawtooth wave. That way the sawtooth gets pulsed down to zero. Finally there was a problem when both impulse occured at nearly the same time. To avoid this a window is set up that prevents a second reset from occuring when one is about to occur anyway.</p>					<p><img src="syncwave.jpg" width="391" height="387"></p>					<pre>The top waveform image is a sample taken from my Matrix 6rThe bottom waveform is from my Csound instrument.</pre>					<p><strong>Follow the Bouncing Ball</strong></p>					<p><a href="bouncepl.txt">bouncepl.txt</a> <a href="bounce.orc">bounce.orc</a> <a href="bounce.sco">bounce.sco</a></p>					<p>The file bouncepl.txt is actually a Perl program. You can rename it as bounce.pl when you save it to your computer. For some reason I was not able to download it when I named it bounce.pl. The Perl program is used to generate scores based on a bouncing ball. The equations are a little like the mass spring system. This time acceleration is provided by gravity. The ball has certain characteristics such as elasticity and pitch.</p>					<p><strong>Runge-Kutta Mass-Spring with Oscillator</strong></p>					<p><a href="msprng2.orc">msprng2.orc</a> <a href="msprng2.sco">msprng2.sco</a></p>					<p>This is another version of the mass-spring system simulation but this time I have used the Runge-Kutta technique rather than the Euler technique. This allows me to go to higher frequencies before the approximation fails. Be sure to check out the following link:</p>					<p><a href="http://zebu.uoregon.edu/~kevan/ph252/022196/022196.html">http://zebu.uoregon.edu/~kevan/ph252/022196/022196.html</a></p>					<p>This has an excellent discussion of the mass spring system and how it relates to chaos.</p>					<p><strong>Spatial Audio in Flatland</strong></p>					<p><a href="space2d.orc">space2d.orc</a> <a href="space2d.sco">space2d.sco</a> <a href="../ezine7/audio/algcmp.wav">algcmp.wav</a> <a href="../ezine7/audio/limit.wav">limit.wav</a></p>					<p>This is a spatial audio system I wrote using Csound a couple of years ago. I have tried to implement the following:</p>					<p>Moving sound source with table supplied moving X and Y coordinates, volume decreases as 1/r^2, filtering of sound due to air absorption, Doppler effect due to moving sound, simplified HRTF for head shadow filtering, inter ear time delay, speaker cross-talk cancellation based on both inter-ear time delay &amp; head shadowing, room reverberation which varies with distance.</p>					<p>The algorithm is 2-dimensional and does not attempt to introduce height cues...but that might be a fun exercise for someone ambitious.</p>					<p><strong>Mass-Spring with Noise</strong></p>					<p><a href="massprng.orc">massprng.orc</a> <a href="massprng.sco">massprng.sco</a></p>					<p>I was asked to provide a flow diagram of this system and after some thought I decided that it was best to consider the mass spring system as a single block. Otherwise it will no longer make sense when you replace the simple Euler approximation with a more complex Runge-Kutta approximation.</p>					<p><img src="137.gif" width="216" height="172"></p>					<p>This is a simulation of a mass on a spring being stimulated by noise. This is one of the simplest physical models. This example is based on the following:</p>					<p><img src="128.gif" width="180" height="18"></p>					<p><img src="129.gif" width="96" height="18"></p>					<p>so</p>					<p><img src="130.gif" width="142" height="41"></p>					<p>Next use Euler's method to update the position of the mass on the spring:</p>					<p><img src="131.gif" width="300" height="21"></p>					<p><img src="132.gif" width="121" height="21"></p>					<p>Notice that a damping factor is used on the velocity.</p>					<p><strong>Machine Language</strong></p>					<p><a href="machine.orc">machine.orc</a> <a href="machine.sco">machine.sco</a> <a href="machine.wav">machine.wav</a> (349K) <a href="machine.mp3">machine.mp3</a> (251K)</p>					<p>A variation on my industrial noise. This example loops a small section of a sample and passes it through a filter. The cut-off frequency of the filter is passed as a table to the instrument. Use any complex sample with it or download <a href="machine.wav">machine.wav</a>. This can be used to create sounds like industrial machinery.</p>					<p><strong>Electric Snare</strong></p>					<p><a href="esnare.orc">esnare.orc</a> <a href="esnare.sco">esnare.sco</a></p>					<p>Here is a simulation of a drum machine snare. I start with an impulse from vco and filter it for the drum tone. I mix in some high pass filtered noise for the spring.</p>					<p><strong>Fractal Static</strong></p>					<p><a href="static.orc">static.orc</a> <a href="static.sco">static.sco</a></p>					<p>This instrument uses a dynamical system to generate intermittent &quot;pops&quot; which sounds ranging from a scratchy record to a glass being filled with soda.</p>					<p><strong>Crunchy Synth</strong></p>					<p><a href="crunch.orc">crunch.orc</a> <a href="crunch.sco">crunch.sco</a> <a href="crunch.mp3">crunch.mp3</a></p>					<p>This is a crunchy little analog sounding synthesizer. The low pass filter resonance is &quot;extracted&quot; and passed through a waveshaper to clip it before it is rejoined with the low pass signal.</p>					<p><strong>Chimes</strong></p>					<p><a href="chimes.orc">chimes.orc</a> <a href="chimes.sco">chimes.sco</a> <a href="chimes.xls">chimes.xls</a> <a href="chimes.mp3">chimes.mp3</a></p>					<p>This is an instrument created by generating two spherical lissajous curves and applying an exponential envelope to them. For more information on the spherical lissajous curve see the Spring 1999 issue of Csound Magazine. The spreadsheet file can be used to generate random chime sound events. Save the file as a text file named chime2.sco or something similar. The score provided was generated in part by using this spreadsheet.</td>				<td></td>			</tr>			<tr>				<td></td>			</tr>			<td></td>			</tr>		</table>	</body></html>