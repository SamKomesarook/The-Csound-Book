<html>	<title>BUILDING AND INSTALLING CSOUND FOR LINUX</title>	<body bgcolor="white" text="black">		<center>			<h3>BUILDING AND INSTALLING CSOUND FOR LINUX</h3>		</center>		<center>			<h4><a href="mailto:dlphilp@bright.net">Dave Phillips</a></h4>		</center>		<p>		<hr>		</p>		<p>There are two versions of Csound available for Linux users. The official version is maintained by John Fitch and is available from <a href="ftp://ftp.maths.bath.ac.uk/pub/dream/newest/">the primary Csound repository</a> at Bath UK. The unofficial version is maintained by Nicola Bernardini. The primary download site for that version is at <a href="http://web.tiscalinet.it/mupuxeddu/csound/index.html">Maurizio Umberto Puxeddu's site</a> in Italy.</p>		<p><i>Note: The instructions here are specific to Linux on x86 systems. They may or may not apply to building and installing Csound on PPC, Alpha, or any other Linux-friendly platform. Users of Csound on other Linux platforms are invited to append that information to this document. Please send your additions and corrections to me at <a href="mailto:dlphilp@bright.net">dlphilp@bright.net</a></i>.</p>		<p>		<hr>		</p>		<p><u>Building and Installing the Official Version</u></p>		<p>Building the official version requires the Csound.tar.gz package from the Bath site. Before retrieving that file, create a directory for it in your $HOME directory (something like Official_Csound will do). Download the package into your new $HOME/Official_Csound directory, and unpack the tarball with this command:</p>		<pre>	tar xzvf Csound.tar.gz</pre>		<p>Now you should edit the top-level Makefile (or the example Makefile.lnx file) for build options such as support for X and realtime audio. You can also set the destination directories for installing the binaries (though I suggest leaving them at the defaults).</p>		<p>When you have configured the Makefile to your specifications simply run <i>make</i> and the compiler will build the Csound binary and all utilities. Next, run <i>make install</i> as root and you're finished. You should now have a static Csound binary sitting in /usr/local/bin and the csound.txt file located in /usr/local/lib.</p>		<p><i>Note: Despite its extension, csound.txt is not a text file. It is a binary file containing all the text strings used throughout Csound, it can not be edited in a text editor or word processor, and it must be present for Csound to run.</i></p>		<p>Type <i>csound</i> at a prompt and you should see a stream of messages (shortened here for clarity) like these :</p>		<pre>    [dlphilp@localhost Official_CS]$ ./csound    Using csound.txt    Csound Version 4.10 (Jan 20 2001)    Csound Command ERROR:   insufficient arguments    Usage:  csound [-flags] orchfile scorefile    Legal flags are:    -U unam run utility program unam    -C      use Cscore processing of scorefile    -I      I-time only orch run    -n      no sound onto disk    -i fnam sound input filename    -o fnam sound output filename    -b N    sample frames (or -kprds) per software sound I/O buffer    -B N    samples per hardware sound I/O buffer    -A      create an AIFF format output soundfile    -W      create a WAV format output soundfile    -J      create an IRCAM format output soundfile    .....    .....    .....</pre>		<p>These flags are compile-time options to determine audio and MIDI I/O requirements, output file format, error message levels, and so forth. The entire list is fully explained in the excellent <a href="http://www.lakewoodsound.com/csound/">Csound manual</a> maintained by David Boothe.</p>		<p><u>Installing the Binaries</u></p>		<p>You may have noticed this selection of binaries in the pub/dream/newest/ directory at Bath:</p>		<ul>			<li>CSLinux.bin.tgz - compiled for libc5 systems (includes standalone utilities)			<li>CSLinuxNNN.bin.tgz - same file, with version number NNN			<li>CSLinux2.bin.tgz - compiled for libc6 systems (includes standalone utilities)			<li>CSLinux2NNN.bin.tgz - same file, with version number NNN			<li>CSLinux32.tgz - compiled for libc6 (no utilities)		</ul>		<p>The contents of these packages must be manually installed (you may need to be the root user for this step) by copying the binaries to /usr/local/bin and csound.txt to /usr/local/lib. The binaries have been built with support for X and Tcl/Tk. If you need a binary with support for X you will have to download the source package, configure the Makefile, and build it yourself.		<p>		<hr>		</p>		<p><u>Building and Installing the Unofficial Version</u></p>		<p>Download the latest package from <a href="http://web.tiscalinet.it/mupuxeddu/csound/index.html">Maurizio Puxeddu's site</a> to your $HOME directory and unpack the bzipped tarball with this command:</p>		<pre>	tar xIvf unofficial-csound-latest-linux.src.tar.bz2</pre>		<p>(where <i>latest</i> is the current version number).</p>		<p><i>Note: Most mainstream Linux distributions include the bzip2 archiving utility, but you can find it <a href="http://sources.redhat.com/bzip2/">here</a> if it isn't already in your system.</i></p>		<p>Now enter your new Csound directory (the unofficial version will create a $HOME/csound directory for you). The unofficial version utilizes the <i>configure</i> utility to define and create the Makefiles used in the build, and you can run <i>./configure --help</i> for a list of configuration options. As an example, I build my versions with the following options enabled:</p>		<pre>	./configure --enable-rtaudio=oss --enable-OSC-opcodes --enable-sliders=tk --enable-suid</pre>		<p>The first option enables realtime audio I/O using the kernel sound driver (also called OSS/Free), the OSS/Linux driver (available from <a href="http://www.4front-technologies.com">4Front Technologies</a>), or the <a href="http://www.alsa-project.org">ALSA</a> driver in OSS emulation mode. The next two options work together: OSC is the <a href="http://cnmat.CNMAT.Berkeley.EDU/OSC/">Open Sound Control</a>, an advanced sound server protocol that lets Csound run as a remote server controlled locally by a set of Tk sliders. Finally, I set the build to create a binary with root permissions (necessary for using the --sched flag described below).</p>		<p>Building with X window support is the default, but it can be disabled simply by adding the --without-x option.</p>		<p>After configuring the Makefile options, run <i>make depend; make</i>. When the build is complete, run <i>make install</i> as root and you're ready to use your new latest version of Csound. As with the official version, the binary will be placed in /usr/local/bin and csound.txt will be located in /usr/local/lib. The shared library (libcsound.so) will also be placed in /usr/local/lib.</p>		<p>The unofficial version presents a number of Linux-specific options, including the following amenities:</p>		<ul>			<li>enhanced support for ALSA, <a href="http://www.tux.org/~ricdude/EsounD.html">ESD</a>, OSS/Linux, and kernel sound drivers			<li>support for 64-bit Alpha systems			<li>builds shared library (libcsound.so) for reduced binary footprint			<li>high-priority scheduler for improved realtime I/O			<li>support for the <a href="http://cnmat.CNMAT.Berkeley.EDU/OSC/">Open Sound Control (OSC)</a> protocol			<li>support for long options (such as --wav or --ossin)		</ul>		<p>This version of Csound for Linux supports the same compile-time flags as the Bath sources and adds a few new ones:</p>		<pre>    --help ................................ This help screen    --incard=N ............................ Specify audio card used for input                                             samples (ALSA only)    --outcard=N ........................... Specify audio card used for output                                             samples (ALSA only)    -Q N or --midihardware=N .............. Select MIDI interface hardware (0 to N)    -K[port]  or --midiport[=port] ........ Assign a MIDI input port    -z[N]  or --opcodes[=N] ............... List opcodes in this version. If N is                                             present and is &gt; 0, list params too.    --ossin=device ........................ Specify soundin device (OSS only)    --ossout=device ....................... Specify soundout device (OSS only)    --sched ............................... Enable High Priority Task Scheduling.                                             Only valid during real-time output    -V N or --volume=N .................... Set real-time audio output volume to N                                             (1 to 100) (Not with ALSA driver)</pre>		<p>The unofficial version also has a CVS (concurrent versions system) repository for developers (and users who like to live on the cutting-edge). See Nicola Bernardini's <a href="http://AIMI.dist.unige.it/AIMICSOUND/AIMICSOUND_home-en.html">AIMI Csound</a> page for details on accessing the repository.</p>		<p>In all other respects the unofficial version is identical with the official version. It is packaged from the code base at Bath, and all orc/sco and csd files written for official Csound should run without problems under the unofficial version.</p>		<p>		<hr>		</p>		<p><u>Miscellaneous</u></p>		<p>Csound's realtime MIDI and audio I/O performance can be greatly improved by running a Linux kernel patched for low-latency. See Benno Sennoner's <a href="http://www.linuxdj.com">Linux Audio Page</a> for more details.</p>		<p>For more information regarding Linux Csound please see my <a href="http://www.bright.net/~dlphilp/linux_csound.html">Csound Resources: Csound for Linux</a> Web site. See also my <a href="http://sound.condorow.net">Linux Sound &amp; Music Applications</a> site for links to a variety of Csound helpers.</p>		<p>		<hr>		</p>		<center>			<p><a href="mailto:dlphilp@bright.net">Dave Phillips</a></center>		<center>			<p>20 January 2001</center>	</body></html>