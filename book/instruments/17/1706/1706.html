<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="generator" content="Adobe GoLive 4">
		<title>instr 1706</title>
	</head>

	<body bgcolor="white">
		<table cool width="603" height="627" border="0" cellpadding="0" cellspacing="0" gridx="16" showgridx usegridx gridy="16" showgridy usegridy>
			<tr height="1" cntrlrow>
				<td width="1" height="1"></td>
				<td width="600" height="1"><spacer type="block" width="600" height="1"></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><font size="4"><b>instr 1706</b></font></td>
			</tr>
			<tr height="16">
				<td width="1" height="16"><spacer type="block" width="1" height="16"></td>
				<td width="600" height="16" colspan="1" rowspan="1" valign="top" align="left" xpos="0"><embed src="../../../audio/1706.mp3" width="112" height="16" autoplay="false" controller="true" cache="true"></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><a href="../1706.orc">1706.orc</a></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><a href="../1706.sco">1706.sco</a></td>
			</tr>
			<tr height="480">
				<td width="1" height="480"><spacer type="block" width="1" height="480"></td>
				<td width="600" height="480" colspan="1" rowspan="1" valign="top" align="left" xpos="0">
					<table cellspacing="0" border="0" cellpadding="0" width="600">
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td width="12%" valign="top"><font face="Courier New" size="2">instr</font></td>
							<td width="15%" valign="top"><font face="Courier New" size="2">1706</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">; algorithmic music generator</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ipkamp</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p4</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; initialization block:</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">idurfn</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p5</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; the possible durations</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ipchfn</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p6</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; the possible pitches</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iampfn</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p7</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; amp scaling function</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iprise</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p8</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; phrase env rise time</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ipdec</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p9</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; phrase env decay time</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">inrise</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p10</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; individual note amp rise</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">indec</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p11</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; individual note amp decay</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iseed1</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p12</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; for duration rand opcode</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iseed2</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p13</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; for pitch rand opcode</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iseed3</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p14</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; for panning rand opcode</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ipkdur</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">.2501</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; max expected dur</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="4">&nbsp;</td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; The Phrase Envelope:</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kphrase</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">expseg</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">.001, iprise, 1, p3-iprise-ipdec, 1, ipdec, .001</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kdurloc</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">rand</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">.5, iseed1</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; get random table indices</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kpchloc</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">rand</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">.5, iseed2</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; between -.5 and +.5</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kpan</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">rand</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">.5, iseed3</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="4"><font face="Courier New" size="2">noteinit:</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; start reinit block</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">idurloc</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">.5+i(kdurloc)</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; make positive i-time var</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">idur</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">table</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">idurloc, idurfn, 1</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; select from dur table</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iamp</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">table</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">idur/ipkdur, iampfn, 1</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; relate amp to dur</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iamp</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">.25+.75*iamp</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; amp range from .25 to 1</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ipchloc</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">.5+i(kpchloc)</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; make a positive i-var</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ipch</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">table</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">ipchloc, ipchfn, 1</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; select from pch table</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">icps</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">(ipch==0?0:cpspch(ipch))</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; allow for 0s (rests)</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ilfac</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">i(kpan)+.5</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; make positive</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ileft</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">sqrt(ilfac)</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; &quot;fill the hole...</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iright</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">sqrt(1-ilfac)</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; ...between the speakers&quot;</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="4"><font face="Courier New" size="2">if (icps == 0) goto rest</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; a table val of 0 = a rest</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">irise</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">inrise*idur</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; compute note rise time</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">idecay</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">indec*idur</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; compute note decay time</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">isust</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">idur-irise-idecay</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; sustain portion</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">knote</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">expseg</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">.001, irise, 1, isust, 1, idecay, .001</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">asig</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">pluck</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">knote*iamp*ipkamp, icps, icps, 0, 1, 0, 0</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">asig</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">asig*kphrase</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; apply the phrase envelope</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td width="12%" valign="top"><font face="Courier New" size="2">outs</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">asig*ileft, asig*iright</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; apply the panning</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">rest:</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">timout</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">0, idur, exit</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; timout can be anywhere</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td width="12%" valign="top"><font face="Courier New" size="2">reinit</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">noteinit</font></td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; in the reinit block</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">exit:</font></td>
							<td width="12%" valign="top"><font face="Courier New" size="2">endin</font></td>
							<td valign="top" colspan="2">&nbsp;</td>
							<td width="40%" valign="top"><font face="Courier New" size="2">; which ends here</font></td>
						</tr>
					</table>
				</td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"></td>
			</tr>
		</table>
	</body>

</html>
