<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="generator" content="Adobe GoLive 4">
		<title>instr 702</title>
	</head>

	<body bgcolor="white">
		<table cool width="603" height="547" border="0" cellpadding="0" cellspacing="0" gridx="16" showgridx usegridx gridy="16" showgridy usegridy>
			<tr height="1" cntrlrow>
				<td width="1" height="1"></td>
				<td width="600" height="1"><spacer type="block" width="600" height="1"></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><font size="4"><b>instr 702</b></font></td>
			</tr>
			<tr height="16">
				<td width="1" height="16"><spacer type="block" width="1" height="16"></td>
				<td width="600" height="16" colspan="1" rowspan="1" valign="top" align="left" xpos="0"><embed src="../../../audio/0702.mp3" width="112" height="16" autoplay="false" controller="true" cache="true"></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><a href="../702.orc">702.orc </a></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><a href="../702.sco">702.sco</a></td>
			</tr>
			<tr height="400">
				<td width="1" height="400"><spacer type="block" width="1" height="400"></td>
				<td width="600" height="400" colspan="1" rowspan="1" valign="top" align="left" xpos="0">
					<table cellspacing="0" border="0" cellpadding="0" width="600">
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td width="14%" valign="top"><font face="Courier New" size="2">instr</font></td>
							<td width="13%" valign="top"><font face="Courier New" size="2">702</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">; A MORE ELABORATE LEGATO INSTRUMENT</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">idur</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">abs(p3)</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; main init block</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ipch1</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">cpspch(p6)</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ipch2</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">cpspch(p5)</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kpch</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">ipch2</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iport</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">0.1</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; 100msec portamento</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iatt</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">0.05</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; default durs for amplitude ramps</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">idec</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">0.05</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; assume this is a tied note:</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iamp</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p4</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; so start at p4 level...</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">i1</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">-1</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; ... and keep phase continuity</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ir</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">tival</font></td>
							<td valign="top" colspan="2">&nbsp;</td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; conditional init block:tied note?</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td width="14%" valign="top"><font face="Courier New" size="2">tigoto</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">start</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">i1</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">0</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; first note: reset phase</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iamp</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">0</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; and zero iamp</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="5"><font face="Courier New" size="2">start:</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iadjust</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">iatt+idec</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="4"><font face="Courier New" size="2">if idur &gt;= iadjust igoto doamp</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; adjust ramp durations for short..</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iatt</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">idur/2-0.005</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; ... notes, 10msecs limit</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">idec</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">iatt</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; ensure no zero-dur segments</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iadjust</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">idur-0.01</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">iport</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">0.005</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; make amplitude ramp...</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">doamp:</font></td>
							<td width="14%" valign="top">&nbsp;</td>
							<td valign="top" colspan="2">&nbsp;</td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; ... (arate for cleanness) and...</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ilen</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">idur-iadjust</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; ... skip pitch ramp generation...</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">amp</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">linseg</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">iamp, iatt, p4, ilen, p4, idec, p7</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="4"><font face="Courier New" size="2">if ir == 0 || p6 == p5 kgoto slur</font></td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; ...if first note or tie.</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="5"><font face="Courier New" size="2">; make pitch ramp, portamento at start of note</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kpramp</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">linseg</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">ipch1, iport, ipch2, idur-iport, ipch2</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kpch</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">kpramp</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">slur:</font></td>
							<td width="14%" valign="top">&nbsp;</td>
							<td valign="top" colspan="2">&nbsp;</td>
							<td width="46%" valign="top"><font face="Courier New" size="2">; make the note</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">aamp</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">amp</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">asig</font></td>
							<td width="14%" valign="top"><font face="Courier New" size="2">oscili</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">aamp, kpch, 1, i1</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td width="14%" valign="top"><font face="Courier New" size="2">out</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">asig</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td valign="top" colspan="4"><font face="Courier New" size="2">endin</font></td>
						</tr>
					</table>
				</td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"></td>
			</tr>
		</table>
	</body>

</html>
