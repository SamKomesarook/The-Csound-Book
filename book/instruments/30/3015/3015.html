<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="generator" content="Adobe GoLive 4">
		<title>instr 3015</title>
	</head>

	<body bgcolor="white">
		<table cool width="603" height="547" border="0" cellpadding="0" cellspacing="0" gridx="16" showgridx usegridx gridy="16" showgridy usegridy>
			<tr height="1" cntrlrow>
				<td width="1" height="1"></td>
				<td width="600" height="1"><spacer type="block" width="600" height="1"></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><font size="4"><b>instr 3015</b></font></td>
			</tr>
			<tr height="16">
				<td width="1" height="16"><spacer type="block" width="1" height="16"></td>
				<td width="600" height="16" colspan="1" rowspan="1" valign="top" align="left" xpos="0"><embed src="../../../audio/3015.mp3" width="112" height="16" autoplay="false" controller="true" cache="true"></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><a href="../3015.orc">3015.orc</a></td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"><a href="../3015.sco">3015.sco</a></td>
			</tr>
			<tr height="400">
				<td width="1" height="400"><spacer type="block" width="1" height="400"></td>
				<td width="600" height="400" colspan="1" rowspan="1" valign="top" align="left" xpos="0">
					<table cellspacing="0" border="0" cellpadding="0" width="600">
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td width="11%" valign="top"><font face="Courier New" size="2">instr</font></td>
							<td width="15%" valign="top"><font face="Courier New" size="2">3015</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">; resonant lowpass filter</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">idur</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">p3</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">itab1</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p4</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Cut-Off Frequency</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">itab2</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p5</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Resonance</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ilpmix</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p6</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; LowPass signal multiplier</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">irzmix</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p7</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Resonance signal multiplier</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">izin</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p8</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Input channel</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">izout</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">p9</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Output channel</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kfco</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">oscil</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">1, 1/idur, itab1</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Cut-off Frequency envelope from table</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kfcort</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">sqrt(kfco)</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Needed for the filter</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">krezo</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">oscil</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">1, 1/idur, itab2</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Resonance envelope from table</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">krez</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">krezo*kfco/500</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Add more resonance at high Fco</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kamp</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">linseg</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">0, .002, 1, p3-.004, 1, .002, 0</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">axn</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">zar</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">izin</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Read input channel</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ka1</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">1000/krez/kfco-1</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Compute filter coeff. a1</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ka2</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">100000/kfco/kfco</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Compute filter coeff. a2</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kb</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">1+ka1+ka2</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Compute filter coeff. b</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="5"><font face="Courier New" size="2">; Use the non-linear filter as an ordinary filter.</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ay1</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">nlfilt</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">axn/kb, (ka1+2*ka2)/kb, -ka2/kb, 0, 0, 1</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ay</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">nlfilt</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">ay1/kb, (ka1+2*ka2)/kb, -ka2/kb, 0, 0, 1</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="5"><font face="Courier New" size="2">; Resonance of 1 is a lowpass filter</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ka1lp</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">1000/kfco-1</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ka2lp</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">100000/kfco/kfco</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">kblp</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">1+ka1lp+ka2lp</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="5"><font face="Courier New" size="2">; Lowpass filter</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ay1lp</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">nlfilt</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">axn/kblp, (ka1lp+2*ka2lp)/kblp, -ka2lp/kblp, 0, 0, 1</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">aylp</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">nlfilt</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">ay1lp/kblp, (ka1lp+2*ka2lp)/kblp, -ka2lp/kblp, 0, 0, 1</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ayrez</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">ay - aylp</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Extract the resonance part.</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ayrz</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">ayrez/kfco</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Use lower amplitudes at higher Fco</font></td>
						</tr>
						<tr>
							<td valign="top" colspan="5"><font face="Courier New" size="2">; Scale the lowpass and resonance separately</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top"><font face="Courier New" size="2">ay2</font></td>
							<td width="11%" valign="top"><font face="Courier New" size="2">=</font></td>
							<td valign="top" colspan="3"><font face="Courier New" size="2">aylp*6*ilpmix + ayrz*300*irzmix</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td width="11%" valign="top"><font face="Courier New" size="2">zaw</font></td>
							<td valign="top" colspan="2"><font face="Courier New" size="2">ay2, izout</font></td>
							<td width="51%" valign="top"><font face="Courier New" size="2">; Write to the output channel</font></td>
						</tr>
						<tr>
							<td width="11%" valign="top">&nbsp;</td>
							<td valign="top" colspan="4"><font face="Courier New" size="2">endin</font></td>
						</tr>
					</table>
				</td>
			</tr>
			<tr height="32">
				<td width="1" height="32"><spacer type="block" width="1" height="32"></td>
				<td width="600" height="32" colspan="1" rowspan="1" valign="top" align="left" xpos="0" content csheight="32"></td>
			</tr>
		</table>
	</body>

</html>
