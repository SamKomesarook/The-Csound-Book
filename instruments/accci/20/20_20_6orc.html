<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"><html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive 4">		<title>20_20_6.orc.html</title>		<meta name="FORMATTER" content="Microsoft FrontPage 2.0">	</head>	<body stylesrc="../admin/adporc.html" bgcolor="white">		<pre>; ************************************************************************; ACCCI:     20_20_6.ORC; synthesis: FM(20),;            double-carrier FM, dynamic spectral evolution (20);            FM-soprano (5); source:    Chowning (1980); coded:     Russel Pinkston, University of Texas at Austinsr = 44100kr  =  441ksmps= 100nchnls = 1<a href="../../../references/manual_html/syntax/iblock.htm">instr</a> 1; *****************************************************************        idur    =       p3        iampfac =       .5                      ; range 0 &lt; AMPFAC &lt; 1        ifenv   =       49                      ; amp rise function        ifport  =       31                      ; port function        ifffq   =       32                      ; formant frequency lookup        iffamp  =       33                      ; formant amp lookup        iffimax =       42                      ; formant imax lookup        ifcimax =       41                      ; carrier imax lookup        irange  =       3                       ; max range of 3 octaves        ibase   =       <a href="../../../references/manual_html/pchcnv/octpch.htm">octpch</a>(7.07)            ; lowest note = g3        icaroct =       <a href="../../../references/manual_html/pchcnv/octpch.htm">octpch</a>(p5)              ; p5 in true decimal        icarhz  =       <a href="../../../references/manual_html/pchcnv/octpch.htm">cpspch</a>(p5)              ; p5 in Hz        ; ipoint points at p5-dependent location of a table with 512 locs        ipoint  =       (icaroct-ibase)/irange*511.999        ifmthz  table   ipoint,ifffq            ; relative pos. of formant        ifmthz  =       ifmthz*3000             ; map onto frequency range        ifmthz  =       int(ifmthz/icarhz+.5)*icarhz ; as nearest harmonic        ifmtfac table   ipoint,iffamp           ; relative amp. of formant        ifmtfac =       ifmtfac*.1              ; max value = .1        ifndfac =       1-ifmtfac               ; relative amp. of fund        ifmtndx table   ipoint,iffimax          ; relative index of formant        ifmtndx =       ifmtndx*5               ; max value = 5        ifndndx table   ipoint,ifcimax          ; relative index of fund        ifndndx =       ifndndx*.25             ; max value = .25        ifndamp =       ifndfac * <a href="../../../references/manual_html/valcnv/int.htm">sqrt</a>(iampfac)            ; AMPFAC**.5        ifmtamp =       ifmtfac * iampfac * <a href="../../../references/manual_html/valcnv/int.htm">sqrt</a>(iampfac)  ; AMPFAC**1.5        imodhz  =       icarhz                  ; calculate modulator and        ipkdev1 =       ifndndx*imodhz          ; peak deviation; compute vibrato parameters:        ; change base of log:   <a href="../../../references/manual_html/valcnv/int.htm">log</a> 2(hz) = <a href="../../../references/manual_html/valcnv/int.htm">log</a> e(hz)/<a href="../../../references/manual_html/valcnv/int.htm">log</a> e(2)        ilog2pch =      <a href="../../../references/manual_html/valcnv/int.htm">log</a>(icarhz)/<a href="../../../references/manual_html/valcnv/int.htm">log</a>(2)        ivibwth  =      .002*ilog2pch           ; relate width to fund pch        ivibhz   =      5                       ; from 5 to 6.5 hz average        irandhz  =      125                     ; same as Morril-trumpet        iportdev =      .05                     ; &quot;     &quot;       &quot;      &quot;;************************* performance; vibrato generator        krand   <a href="../../../references/manual_html/siggen/rand.htm">randi</a>   ivibwth,irandhz         ; random contribution        kvibwth <a href="../../../references/manual_html/sigmod/linen.htm">linen</a>   ivibwth,.6,p3,.1        ; gate vibrato width        kvib    <a href="../../../references/manual_html/siggen/oscil.htm">oscili</a>  kvibwth,ivibhz,1        ;        kport   <a href="../../../references/manual_html/siggen/table.htm">oscil1</a>  0,iportdev,.2,ifport    ; initial portamento        kv      =       1+kvib+kport+krand      ; vibrato factor ca. 1; modulating signal        kdyn    <a href="../../../references/manual_html/siggen/line.htm">linseg</a>  0,.03,1,idur-.03-.01,.9,.01,0  ; dynamic index        adev1   <a href="../../../references/manual_html/siggen/oscil.htm">oscili</a>  ipkdev1,imodhz*kv,1     ; modulator        adev2   =       adev1*ifmtndx/ifndndx   ; rescale for formant; carrier signals        afundhz =       (icarhz+adev1)*kv       ; vib the modulated fund...        aformhz =       (ifmthz+adev2)*kv       ; ...and modulated formant        afund   <a href="../../../references/manual_html/sigmod/linen.htm">linen</a>   ifndamp,.1,p3,.08        afund   <a href="../../../references/manual_html/siggen/oscil.htm">oscili</a>  afund,afundhz,1        aform   <a href="../../../references/manual_html/sigmod/linen.htm">envlpx</a>    ifmtamp,.1,p3,.08,ifenv,1,.01        aform   <a href="../../../references/manual_html/siggen/oscil.htm">oscili</a>  aform,aformhz,1        asig    =       (afund+aform)*p4        ; scale to peak amp here                <a href="../../../references/manual_html/sigio/in.htm">out</a>     asig<a href="../../../references/manual_html/syntax/iblock.htm">endin</a></pre>	</body></html>