; Composed by Ignacio Longo on 04/18/02 <ignacio@longo.com.ar>; Variation on Bartok's String Quartet 5, 4 Movement.sr     = 44100kr     = 4410ksmps  = 10nchnls = 2garvb init 0		instr   1; Created by Ignacio Longo on 03/27/02.		icps    =    p5if (icps>440) kgoto  aif (icps<=440) kgoto  ba:          idur    =    p3            iamp    =    p4	   	     			iatk    =    p6			idec    =    p7			iharm1  =    p8			iharm2  =    p9			icut1   =	 p10			icut2   =    p11			ireso1  =    p12			ireso2  =    p13			ipan1   =    p14			ipan2   =    p15			irvsnd  =    p16			kamp     linen      iamp,iatk, idur, idec            kharm    line       iharm1, idur, iharm2		    kcutoff  line       icut1, idur, icut2            kreso    line       ireso1, idur, ireso2		    kpanfrq  line       ipan1, idur, ipan2			kpan	 oscil	    .5, kpanfrq, 1			kpanlfo	 =		    kpan+.5			a1       buzz       kamp, icps, kharm, 1			a2       buzz       kamp,icps+1, kharm, 1			a3       buzz       kamp, icps-1, kharm, 1			a4       buzz       kamp, icps*.5, kharm, 1			a5       =          a1+a2+a3+a4			alowp    butterlp   a5,kcutoff			alowp1   butterlp   alowp,kcutoff			abp      butterbp   a1+a4*2, kcutoff, kcutoff*.5			abp1     butterbp   abp,kcutoff, kcutoff*.5			amix     =          alowp1+(abp1*kreso)     			abal     balance    amix, a5			             outs       kpanlfo*abal,(1-kpanlfo)*abal		    garvb	 =	        garvb+(abal*irvsnd)kgoto       contin   b:          idur    =    p3            iamp    =    p4	   	     			iatk    =    p6			idec    =    p7			icut1   =	 p8			icut2   =    p9			ireso1  =    p10			ireso2  =    p11			ipan1   =    p12			ipan2   =    p13			idepth1 =    p14			idepth2 =    p15			irate1  =    p16			irate2  =    p17			irvsnd  =    p18            kamp      linen     iamp,iatk, idur, idec            kcutoff   line      icut1, idur, icut2			kreso     line      ireso1, idur, ireso2			kpanfrq   line      ipan1, idur, ipan2			kdepth    line      idepth1, idur, idepth2 			krate     line      irate1, idur, irate2			k1        randh     kdepth,krate			klfo      oscil     kdepth*.5, krate*.5, 1			kpan	  oscil	    .5,kpanfrq*0.6, 1			kpanlfo	  =		    kpan+.5			a1        vco       kamp,icps*2,2, 0.7,1, 1/480			a2        foscil    kamp,icps*2+10,1, 2,kdepth+krate,1			a3        = a2+a1			a4        butterlp  a3, kcutoff + k1			a5        rezzy     a4, kcutoff + k1, kreso 			a6        rezzy     a5, kcutoff + k1, kreso			abal      balance   a6, a3			          outs      abal*kpanlfo, abal*(1-kpanlfo)			garvb	  =	        garvb+(abal*irvsnd)	kgoto       contincontin:	    endin		instr 	2; Modified instrument from Etude 1.idur         =   p3		iamp         =   p4icps         =   p5idens1       =   p6idens2       =   p7	idens3	     =   p8iampoff1     =   p9iampoff2     =   p10ilfoamp      =   p11ilfofreq1    =   p12ilfofreq2    =   p13ilfofn       =   p14ipanfreq     =   p15irvbsnd      =   p16irvt         =   p17iloopt       =   p18iatk         =   p19irel         =   p20   kgdens	linseg  idens1, idur/3, idens2, idur/3, idens3kampoff line    iampoff1, idur, iampoff2	klfofrq line    ilfofreq1, idur, ilfofreq2klfo    oscil   ilfoamp, klfofrq, ilfofnkpan	oscil	.5, ipanfreq, 1kpanlfo	=		kpan+.5a1 		grain 	iamp,icps,kgdens,kampoff, klfo ,0.05, 1, 17, 0.7kcbenv  linen   iamp,iatk, idur, irelacomb   comb    a1, irvt, iloopt, 0acomb1  comb    acomb, irvt*0.3, iloopt*.5134, 0        outs    acomb1*kpanlfo*kcbenv, acomb1*kcbenv*(1-kpanlfo)		garvb	=	garvb+(acomb1*irvbsnd*kcbenv)		endin          instr   3; Created by Ignacio Longo on 04/16/02.idur    =   p3iamp    =   p4icps1   =   p5 icps2   =   p6iatk    =   p7idec    =   p8irvsnd  =   p9ipancps =   p10kamp    linen    iamp, iatk, idur, ideckcps    line     icps1, idur, icps2kpan	oscil	.5, ipancps, 1kpanlfo	=		kpan+.5a1      oscil    kamp, kcps*.5, 1a2      pluck    kamp, kcps, icps2+1, 3,1a3      pluck    kamp, kcps, icps2-1, 3,1a4      pluck    kamp, kcps, icps2, 3,1amix    =        a2+a3+a4klfo    oscil    kamp, kcps/idur, 1adel1   comb     amix,.1, .01adel2   comb     adel1,.1, .01adel3   comb     adel2,.1, .01adel4   comb     adel3,.1, .01amix1   =        adel1+adel2+adel3+adel4abal    balance  amix1, amixamix2   =        abal+a1*.2+amix        outs     amix2*kpanlfo, amix2*(1-kpanlfo)        garvb	 =	garvb+(amix2+irvsnd)        endin                             instr   4; Created by Ignacio Longo on 03/27/02.idur	  =   p3iamp	  =   p4kdirect   =   p5imethod   =   p6ifn       =   p7ilforate1 =   p8ilforate2 =   p9iampatfn  =   p10iharmatfn =   p11ibpatfn   =   p12irvsnd    =   p13klforate   line       ilforate1, idur, ilforate2                if (imethod == 0) kgoto directif (imethod == 1) kgoto lfoif (imethod == 2) kgoto randomklforate   line       ilforate1, idur, ilforate2   direct:     kpitch   table      kdirect,ifn            kgoto    continlfo:        kindex   phasor     klforate/idur                        kpitch   table      kindex*8, ifn            kgoto    contin            random:     kindex   randh      int(7), klforate 			kpitch   table      abs(kindex),ifn			kgoto    contin 			        contin:     kamp       envlpx     iamp, idur, idur, 1, iampatfn,1,1   			kmindex    envlpx     iamp, idur, idur, 1, iharmatfn, 1,1  			kbpfreq    envlpx     iamp, idur, idur, 1, ibpatfn , 1, 1			klforate   line       ilforate1, idur, ilforate2               a1         foscil     kamp,kpitch,1, 2,kmindex*.002, 1            a2         butterbp   a1, kbpfreq, kbpfreq*.4            a3         linen      a2,0.1, idur, .25                 ; to avoid pop effect at the end of every note            outs       a3,a3            garvb      =          garvb+(a3*irvsnd)            endin                                     	    instr    109	    idur    =   p3	    irvtime =   p4	    ihiat   =   p5arvb	nreverb	garvb,irvtime, ihiat		outs    arvb, arvbgarvb	=		0		endin