;===================; THE FALL OF TIME ;===================                             Ken G. Ichiyanagi (05/02/01)sr        =         44100kr        =         44100ksmps     =         1nchnls    =         2garvbsig	init	0;-----------------; sine w/ chorus ;-----------------          instr 1idur	  =			p3iamp      =         ampdb(p4)           ; convert decibels to linear ampiscale    =         iamp * .333         ; scale the amp at initializationinote     =         cpspch(p5)          ; convert octave. pitch to cpsiattack   =         p6irelease  =         p7ibalance  =         p8                  ; 1 = left, .5 = center, 0 = rightirvbgain  =         p9k1        linen     iscale, iattack, idur, ireleasea3        oscil     k1, inote*.996, 1   ; p5=freqa2        oscil     k1, inote*1.004, 1  ; p6=attack timea1        oscil     k1, inote, 1        ; p7=release timearampsig  =         k1 * (a1+a2+a3)          outs      arampsig * ibalance, arampsig * (1 - ibalance)garvbsig  =         garvbsig + arampsig * irvbgain                  endin;--------------; sweep noise ;--------------          instr 10iattack   =         .01irelease  =         .2iwhite    =         22050idur      =         p3iamp      =         p4iswpstart =         p5isweepend =         p6ibndwidth =         p7ibalance  =         p8                  ; 1 = left, .5 = center, 0 = rightirvbgain  =         p9kamp      linen     iamp, iattack, idur, ireleaseksweep    line      iswpstart, idur, isweependasig      rand      iwhiteafilt     reson     asig, ksweep, ibndwidtharampsig  =         kamp * afilt          outs      arampsig * ibalance, arampsig * (1 - ibalance)garvbsig  =         garvbsig + arampsig * p9          endin                          ;----------------; stereo reverb ;----------------          		  instr 100irvbtime  =         p4asig      reverb    garvbsig,  irvbtime      ; put global sig into reverb          outs      asig, asiggarvbsig  =         0                        ; then clear it          endin