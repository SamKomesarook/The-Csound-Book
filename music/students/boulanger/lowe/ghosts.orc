;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;															;;		"ghosts" - an original ambient csound composition	;;            												;;              by: arran lowe								;;           email: trs9000@hotmail.com						;;															;;															;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sr		=	44100kr		=	4410ksmps	=	10nchnls	=	2				; left as 2 for spacialization later, but							; not currently in use.gavb	init	0kmnt	init	.8	instr	1if1 = ampdb(p4)			; get amplitude, set amp for different formantsif2 = ampdb(p4-6)if3 = ampdb(p4-7)if4 = ampdb(p4-8)if5 = ampdb(p4-22)kn1	linseg	0, 3, if1, (p3-3)*.4, if1*.65, (p3-3)*.6, 0		; envelopingkn2	linseg	0, 3, if2, (p3-3)*.4, if2*.65, (p3-3)*.6, 0kn3	linseg	0, 3, if3, (p3-3)*.4, if3*.65, (p3-3)*.6, 0kn4	linseg	0, 3, if4, (p3-3)*.4, if4*.65, (p3-3)*.6, 0kn5	linseg	0, 3, if5, (p3-3)*.4, if5*.65, (p3-3)*.6, 0k1	randi .01, 1/.05, .8135								; random pitch fluctuationsk2	randi .01, 1/.111, .3111k3	randi .01, 1/1.219, .6711kp = cpspch(p5)kj = (k1+k2+k3)if (p6 == 0) kgoto without			; determine to output noise or vocal imitationkj = kj + kpkmnt = .1without:a1	fof	kn1, kj, 650, 0, 80, .003, .02, .007, 500, 1, 2, p3		; fof oscilsa2	fof	kn2, kj, 1080, 0, 90, .003, .02, .007, 500, 1, 2, p3a3	fof	kn3, kj, 2650, 0, 120, .003, .02, .007, 500, 1, 2, p3a4	fof	kn4, kj, 2900, 0, 130, .003, .02, .007, 500, 1, 2, p3a5	fof	kn5, kj, 3250, 0, 140, .003, .02, .007, 500, 1, 2, p3a1	= a1 + a2 + a3 + a4 + a5				; mix togethera2	oscil kn3, kp, 1				; chorused sine wavesa3	oscil kn3*1.1, kp, 1a4	oscil kn3*.9, kp, 1a1	= a1*kmnt + a2 + a3 + a4		; mix all sigs together	outs a1, a1gavb = gavb + a1*.9kmnt = .8	endin		instr 2a1	nreverb gavb, 8, .1	outs a1, a1gavb = 0	endin